$(document).ready(function(){var i,a,s=$(".home__moreButton"),e=$(".button_to"),o=$(".button_menu"),t=function(){n(),c(),e.css("visibility","visible"),$(".home").addClass("visible"),l(),r(),f()},n=function(){a={skills:$(".skills").offset().top,portfolio:$(".portfolio").offset().top,history:$(".history").offset().top,contacts:$(".contacts").offset().top}},l=function(){$("input, textarea").focus(function(i){$(i.target).removeClass("input_error")}),$(".menu__item").click(function(a){var s=$(a.target).attr("href");$.magnificPopup.close(),i=!0,"home"==s&&e.hide(),$(s).ScrollTo({duration:300,easing:"linear",callback:function(){"home"!=s&&e.show(),i=!1}}),a.stopPropagation()}),s.click(function(){$(".skills").ScrollTo({duration:300,easing:"linear"})}),e.click(function(){var s;if(e.data("up"))i=!0,e.hide(),$("#home").ScrollTo({duration:300,easing:"linear",callback:function(){i=!1}});else{s=e.offset().top;for(var o in a)if(s<=a[o]){"contacts"!=o&&setTimeout(function(){u(e)},100),$("."+o).ScrollTo({duration:300,easing:"linear"});break}$("."+o).ScrollTo({duration:300,easing:"linear"})}}),$(".contants__sendMessage").click(function(){m()}),$(".contacts__writeAgain").click(function(){var i=$(".contacts__formWrap");$(".contacts__successEmailMessage").css("visibility","hidden").removeClass("visible"),$(".contacts__successEmailMessageText").removeClass("visible"),i.css("height","auto"),i.children().show(),i.addClass("visible")}),$(document).on("scroll",function(i){c()}),$(window).on("resize",function(i){d(),n()})},c=function(){var s=$(document).scrollTop(),o=s+$(window).height();i||(s<a.skills?e.hide():e.show());var t=$(".contacts__socialLink"),n=$(".contacts__formWrap");if(o>=n.offset().top-100&&!t[0].visible){t[0].visible=!0,t.css("opacity",0);var l=function(i){i>=0&&setTimeout(function(){u($(t[i]),"animated bounceInLeft"),$(t[i]).css("opacity",1),l(i-1)},i<t.length-1?100:0),0==i&&setTimeout(function(){n.addClass("visible")},500)};l(t.length-1)}o<t.offset().top&&(t[0].visible=!1,t.css("opacity",0),n.removeClass("visible")),o==$(document).height()?(e.data("up","1"),e.find(".fa").removeClass("fa-arrow-down").addClass("fa-arrow-up"),u(e,"animated-roll-fast")):e.data("up")&&(e.data("up",""),e.find(".fa").removeClass("fa-arrow-up").addClass("fa-arrow-down"),u(e,"animated-roll"))},r=function(){$(".open-popup-link").magnificPopup({type:"inline",midClick:!0,mainClass:"mfp-project",removalDelay:300,callbacks:{beforeOpen:function(){e.hide(),o.hide()},open:function(){this.slider=$(".projectPopup__screens",this.content).bxSlider({mode:"fade"}),e.show().css("opacity",0),o.show().css("opacity",0)},afterClose:function(){this.slider.destroySlider(),e.css("opacity",1),o.css("opacity",1)}}})},d=function(){var i=$(window).width();o.css("left",i-(i>1e3?94:70)+"px").css("visibility","visible")},f=function(){var i=!1,a=!1;d(),o.magnificPopup({type:"inline",midClick:!0,mainClass:"mfp-menu",removalDelay:200,showCloseBtn:!1,callbacks:{beforeOpen:function(){e.hide(),u(o,"animated-roll"),o.find(".fa").removeClass("fa-bars").addClass("fa-times"),o.addClass("button_menuClose")},open:function(){i=!0,a=!0,e.show().css("opacity",0)},beforeClose:function(){u(o,"animated-roll"),o.removeClass("button_menuClose"),o.find(".fa").removeClass("fa-times").addClass("fa-bars")},afterClose:function(){a=!1,e.css("opacity",1)}}}),o.click(function(){a&&(i?i=!1:$.magnificPopup.close())})},u=function(i,a,s){a=a||"animated bounce",i.addClass(a),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass(a),s&&s(i)})},m=function(){var i,a=$(".contacts__formWrap"),s=$(".contacts__form"),e=s.find('input[name="name"]'),o=s.find('input[name="email"]'),t=s.find('textarea[name="message"]');e.val()&&o.val()&&t.val()?(i=e.val()+" - "+o.val()+" - "+t.val(),e.attr("disabled","true"),o.attr("disabled","true"),t.attr("disabled","true"),$.ajax({url:"mail.php",type:"POST",data:{message:i},success:function(){a.height(a.height()),a.children().hide(),a.removeClass("visible"),$(".contacts__successEmailMessage").css("visibility","visible").addClass("visible").one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend transitionend",function(){$(".contacts__successEmailMessageText").addClass("visible")}),e.removeAttr("disabled"),o.removeAttr("disabled"),t.removeAttr("disabled"),e.val(""),o.val(""),t.val("")}})):(e.val()||e.addClass("input_error"),o.val()||o.addClass("input_error"),t.val()||t.addClass("input_error"))};t()});