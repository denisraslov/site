$(document).ready(function(){var i,a,e=$(".home__moreButton"),s=$(".button_to"),o=$(".button_menu"),n=function(){t(),r(),s.css("visibility","visible"),$(".home").addClass("visible"),c(),d(),u(),l()},t=function(){a={skills:$(".skills").offset().top,portfolio:$(".portfolio").offset().top,history:$(".history").offset().top,contacts:$(".contacts").offset().top}},l=function(){$(".home").waitForImages(function(){$(".loader").remove()})},c=function(){$("input, textarea").focus(function(i){$(i.target).removeClass("input_error")}),$(".menu__item").click(function(a){var e=$(a.target).attr("href");$.magnificPopup.close(),i=!0,"home"==e&&s.hide(),$(e).ScrollTo({duration:300,easing:"linear",callback:function(){"home"!=e&&s.show(),i=!1}}),a.stopPropagation()}),e.click(function(){$(".skills").ScrollTo({duration:300,easing:"linear"})}),s.click(function(){var e;if(s.data("up"))i=!0,s.hide(),$("#home").ScrollTo({duration:300,easing:"linear",callback:function(){i=!1}});else{e=s.offset().top;for(var o in a)if(e<=a[o]){"contacts"!=o&&setTimeout(function(){m(s)},100),$("."+o).ScrollTo({duration:300,easing:"linear"});break}$("."+o).ScrollTo({duration:300,easing:"linear"})}}),$(".contants__sendMessage").click(function(){p()}),$(".contacts__writeAgain").click(function(){var i=$(".contacts__formWrap");$(".contacts__successEmailMessage").css("visibility","hidden").removeClass("visible"),$(".contacts__successEmailMessageText").removeClass("visible"),i.css("height","auto"),i.children().show(),i.addClass("visible")}),$(document).on("scroll",function(i){r()}),$(window).on("resize",function(i){f(),t()})},r=function(){var e=$(document).scrollTop(),o=e+$(window).height();i||(e<a.skills?s.hide():s.show());var n=$(".contacts__socialLink"),t=$(".contacts__formWrap");if(o>=t.offset().top-100&&!n[0].visible){n[0].visible=!0,n.css("opacity",0);var l=function(i){i>=0&&setTimeout(function(){m($(n[i]),"animated bounceInLeft"),$(n[i]).css("opacity",1),l(i-1)},i<n.length-1?100:0),0==i&&setTimeout(function(){t.addClass("visible")},500)};l(n.length-1)}o<n.offset().top&&(n[0].visible=!1,n.css("opacity",0),t.removeClass("visible")),o==$(document).height()?(s.data("up","1"),s.find(".fa").removeClass("fa-arrow-down").addClass("fa-arrow-up"),m(s,"animated-roll-fast")):s.data("up")&&(s.data("up",""),s.find(".fa").removeClass("fa-arrow-up").addClass("fa-arrow-down"),m(s,"animated-roll"))},d=function(){$(".open-popup-link").magnificPopup({type:"inline",midClick:!0,mainClass:"mfp-project",removalDelay:300,callbacks:{beforeOpen:function(){s.hide(),o.hide()},open:function(){this.slider=$(".projectPopup__screens",this.content).bxSlider({mode:"fade"}),s.show().css("opacity",0),o.show().css("opacity",0)},afterClose:function(){this.slider.destroySlider(),s.css("opacity",1),o.css("opacity",1)}}})},f=function(){var i=$(window).width();o.css("left",i-(i>1e3?94:70)+"px").css("visibility","visible")},u=function(){var i=!1,a=!1;f(),o.magnificPopup({type:"inline",midClick:!0,mainClass:"mfp-menu",removalDelay:200,showCloseBtn:!1,callbacks:{beforeOpen:function(){s.hide(),m(o,"animated-roll"),o.find(".fa").removeClass("fa-bars").addClass("fa-times"),o.addClass("button_menuClose")},open:function(){i=!0,a=!0,s.show().css("opacity",0)},beforeClose:function(){m(o,"animated-roll"),o.removeClass("button_menuClose"),o.find(".fa").removeClass("fa-times").addClass("fa-bars")},afterClose:function(){a=!1,s.css("opacity",1)}}}),o.click(function(){a&&(i?i=!1:$.magnificPopup.close())})},m=function(i,a,e){a=a||"animated bounce",i.addClass(a),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass(a),e&&e(i)})},p=function(){var i,a=$(".contacts__formWrap"),e=$(".contacts__form"),s=e.find('input[name="name"]'),o=e.find('input[name="email"]'),n=e.find('textarea[name="message"]');s.val()&&o.val()&&n.val()?(i=s.val()+" - "+o.val()+" - "+n.val(),s.attr("disabled","true"),o.attr("disabled","true"),n.attr("disabled","true"),$.ajax({url:"mail.php",type:"POST",data:{message:i},success:function(){a.height(a.height()),a.children().hide(),a.removeClass("visible"),$(".contacts__successEmailMessage").css("visibility","visible").addClass("visible").one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend transitionend",function(){$(".contacts__successEmailMessageText").addClass("visible")}),s.removeAttr("disabled"),o.removeAttr("disabled"),n.removeAttr("disabled"),s.val(""),o.val(""),n.val("")}})):(s.val()||s.addClass("input_error"),o.val()||o.addClass("input_error"),n.val()||n.addClass("input_error"))};n()});